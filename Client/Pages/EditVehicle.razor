@page "/editvehicle"
@page "/editvehicle/{id:int}"
@inject IVehicleService VehicleService

@if(Id == null)
{
    <PageTitle>>Create a new Vehicle</PageTitle>
    <h3>Create a new Vehicle</h3>
}
else
{
    <PageTitle>Edit @vehicle.VehicleCountry</PageTitle>
    <h3>Edit @vehicle.VehicleCountry</h3>
}

<EditForm Model="vehicle" OnSubmit="HandleSubmit">
    <div>
        <label for="vehiclemodel">Vehicle Model</label>
        <InputText id="firstname" @bind-Value="vehicle.VehicleModel" class="form-control"></InputText>
    </div>
        <div>
        <label for="vehiclelevel">Vehicle level</label>
        <InputText id="firstlevel" @bind-Value="vehicle.VehicleLevel" class="form-control"></InputText>
    </div>
        <div>
        <label for="vehiclecountry">Vehicle Country</label>
        <InputText id="firstcountry" @bind-Value="vehicle.VehicleCountry" class="form-control"></InputText>
    </div>
</EditForm>

@code {
    [Parameter]
    public int? Id { get; set; }

    Vehicle vehicle = new Vehicle { VehicleType = new VehicleType() };

    protected override async Task OnParametersSetAsync()
    {
        if(Id == null)
        {
            //create a new vehicle
        }
        else
        {
            vehicle = await VehicleService.GetSingleVehicle((int)Id);
        }
    }

    async Task HandleSubmit()
    {
        
    }

}
